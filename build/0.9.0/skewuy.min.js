class Skewuy{
    constructor(vH = 200, fC, fG = -86, fW = 427, sI, sC){
        this.height = this.pU(vH);
        (vH);
        this.width = "100%";
        this.fC = fC;
        this.fG = this.pU(fG);
        (fG);
        this.fW = fW;
        this.imgSrc = `url(${sI})`;
        this.skP = sC;
        
         if (!(document.querySelector(".skewuy"))) {
            
            const skC = `.skewuy{height: ${this.height};width: ${this.width};background-size: auto 240px; background-repeat: no-repeat;background-position-y: center; background-position-x: ${this.fG};}`;

            const sTg = document.createElement("style");
            sTg.appendChild(document.createTextNode(skC));
            document.head.appendChild(sTg);

        } 

        this.skE = document.createElement("div");
        this.skE.className = "skewuy";
        this.skE.style.backgroundImage = this.imgSrc;
        
        this.skP.style.width = "100%";
        this.skP.appendChild(this.skE);

        
        const cW = parseInt(getComputedStyle(this.skE).width);
        const preBgPos = parseInt(getComputedStyle(this.skE).backgroundPositionX); 
        const _sk = this; 
        
        this.skE.addEventListener("mousemove", function(e){
            let mP = Math.trunc((e.offsetX/cW) * _sk.fC);

            if (mP >= _sk.fC) {
                mP = _sk.fC - 1;
            } else if (mP < 0) {
                mP = 0;
            }

            let bP = _sk.pU(preBgPos - (mP * _sk.fW));

            _sk.skE.style.backgroundPositionX = bP;
        })

            this.skE.addEventListener("touchmove", function(e){
                const tL = e.target.getBoundingClientRect();
                const tcL = e.touches[0].clientX;
                let tM;

                if (tcL < tL.left) {
                    tM = 0;
                } else if (tcL > tL.right){
                    tM = tL.right;
                } else {
                    tM = e.touches[0].clientX - e.target.getBoundingClientRect().left;
                } 
                
                let tP = Math.trunc(((tM)/cW) * _sk.fC);

                if (tP >= _sk.fC) {
                    tP = _sk.fC - 1;
                } else if (tP < 0) {
                    tP = 0;
                }

                let bP = _sk.pU(preBgPos - (tP * _sk.fW));
                _sk.skE.style.backgroundPositionX = bP;

        })
        
    } 

    pU
    (value) {
        return value + "px";
    }
    
}